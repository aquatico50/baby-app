/* ---- THEME ---- */
:root{
  --purple-900:#0b0329;
  --purple-800:#2b146b;
  --purple-700:#4b1fb3;
  --purple-600:#6d28d9;
  --purple-500:#7c3aed;
  --purple-400:#a78bfa;

  --white-92:rgba(255,255,255,.92);
  --white-80:rgba(255,255,255,.80);
  --white-70:rgba(255,255,255,.70);
  --white-28:rgba(255,255,255,.28);
  --white-18:rgba(255,255,255,.18);
  --white-10:rgba(255,255,255,.10);
}

*{box-sizing:border-box}
html,body,#root{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
  color:#fff;
  background:#0b0329;
}

.app-bg{
  min-height:100%;
  padding:16px 16px 96px;
  background:
    radial-gradient(1200px 600px at 85% -10%, #b794f4 0%, rgba(183,148,244,0) 60%),
    radial-gradient(900px 500px at 10% 0%, #7c3aed 0%, rgba(124,58,237,0) 50%),
    linear-gradient(135deg, #2b146b 0%, #4b1fb3 45%, #6d28d9 100%);
}

/* ---- GLASS CARD ---- */
.card{
  background:rgba(15,15,30,.35);
  border:1px solid var(--white-18);
  border-radius:18px;
  padding:14px;
  box-shadow:0 12px 28px rgba(0,0,0,.35);
  backdrop-filter: blur(14px) saturate(160%);
}

/* ---- HEADER + MENU ---- */
.app-header{
  position:sticky; top:0; z-index:10;
  margin-bottom:12px; padding:12px 14px;
  border-radius:18px; background:rgba(15,15,30,.45);
  border:1px solid var(--white-18); backdrop-filter:blur(12px) saturate(160%);
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}
.app-title{margin:0;font-size:26px;font-weight:900;letter-spacing:.2px}
.app-sub{margin:2px 0 0;color:var(--white-70);font-size:12px}
.menu-btn{
  border:none; border-radius:12px; padding:10px 14px; font-weight:800; color:#fff;
  background:linear-gradient(90deg,#7c3aed,#a78bfa); box-shadow:0 10px 18px rgba(124,58,237,.35);
}

/* ---- MENU POPUP ---- */
.menu{
  position:absolute; right:0; top:110%;
  background:rgba(15,15,30,.9); border:1px solid var(--white-28);
  border-radius:14px; padding:8px; display:grid; gap:6px; min-width:190px;
}
.menu-item{
  border:none; text-align:left; color:#fff; padding:10px 12px; border-radius:10px;
  background:rgba(255,255,255,.08); box-shadow:inset 0 0 0 1px var(--white-18);
}
.menu-item.active{ background:linear-gradient(90deg,#7c3aed,#a78bfa); }

/* ---- INPUTS / BUTTONS ---- */
.input, .select{
  border-radius:12px; border:1px solid var(--white-28);
  background:rgba(255,255,255,.14); color:#fff; padding:10px 12px;
}
.input::placeholder{color:var(--white-70)}
.btn{
  border:none; border-radius:12px; padding:10px 14px; font-weight:800; color:#fff;
  background:linear-gradient(90deg,#5b21b6,#7c3aed); box-shadow:0 10px 18px rgba(91,33,182,.35);
}

/* ---- DAY GRID ---- */
.day-grid{ display:grid; grid-template-columns:1fr; gap:6px; width:100%;}
.day-hour{
  display:grid; grid-template-columns:72px 1fr; gap:10px; align-items:start;
  border-bottom:1px solid var(--white-18); padding-bottom:8px;
}
.day-hour-label{ font-weight:900; color:var(--white-92) }
.day-hour-items{ display:grid; gap:8px }

/* ---- TASK CHIP ---- */
.task{
  display:flex; justify-content:space-between; align-items:center; gap:8px;
  background:rgba(255,255,255,.10); border:1px solid var(--white-18);
  border-radius:14px; padding:10px 12px;
}
.task--done{ opacity:.75; text-decoration:line-through }
.task-meta{ color:var(--white-70); font-size:12px }

/* ---- MONTH ---- */
.month-grid{ display:grid; grid-template-columns:repeat(7,1fr); gap:8px; width:100%;}
.month-head{ text-align:center; font-weight:800; color:var(--white-92) }
.month-cell{
  padding:8px; border-radius:12px; min-height:96px;
  background:rgba(15,15,30,.35); border:1px solid var(--white-18);
  display:flex; flex-direction:column; gap:6px; min-width:0;
}
.month-fade{ opacity:.55 }
.month-date-row{ display:flex; justify-content:space-between; align-items:center; }
.month-date{ font-weight:900; color:#fff; background:transparent; border:none }
.month-add{
  width:26px; height:26px; border:none; border-radius:999px; color:#fff;
  background:linear-gradient(90deg,#7c3aed,#a78bfa);
}
.month-items{ display:grid; gap:4px }
.month-chip{
  font-size:12px; padding:4px 6px; border-radius:8px;
  background:rgba(255,255,255,.12); border:1px solid var(--white-18);
}
.month-chip-done{ text-decoration:line-through; opacity:.85 }

/* ---- YEAR ---- */
.year-grid{ display:grid; grid-template-columns:repeat(2,1fr); gap:12px }
.year-cell{ padding:10px; border-radius:12px; background:rgba(15,15,30,.35); border:1px solid var(--white-18) }
.year-head{ display:flex; justify-content:space-between; align-items:center; margin-bottom:6px }

/* ---- TOAST ---- */
.toast{
  position:fixed; left:50%; bottom:20px; transform:translateX(-50%);
  background:rgba(0,0,0,.85); color:#fff; border-radius:999px; padding:10px 16px;
  box-shadow:0 8px 24px rgba(0,0,0,.4); z-index:60;
}
.spacer{height:24px}

/* ---- little action bubble when long-press ---- */
.action-bubble{
  position:absolute; right:8px; top:-8px; z-index:5;
  background:rgba(0,0,0,.8); border:1px solid var(--white-28);
  color:#fff; border-radius:12px; padding:6px; display:flex; gap:6px;
}

/* Center header + cards */
.app-header, .card { max-width: 900px; margin: 0 auto; }

/* Small screens tweaks */
@media (max-width: 420px){
  .card { padding: 10px; }
  .month-grid { gap: 6px; }
  .month-cell { padding: 6px; }
}

/* ===================== COUPONS ===================== */

.coupon{
  position:relative;
  border-radius:16px;
  border:1px dashed var(--white-28);
  padding:16px;
  overflow:hidden;
  background:
    radial-gradient(160% 120% at 0% 0%, rgba(167,139,250,.22), rgba(0,0,0,0) 60%),
    radial-gradient(160% 120% at 100% 100%, rgba(124,58,237,.18), rgba(0,0,0,0) 60%),
    linear-gradient(180deg, rgba(14,14,28,.92), rgba(14,14,28,.74));
  box-shadow:0 14px 28px rgba(0,0,0,.35);
  backdrop-filter: blur(10px) saturate(150%);
  isolation:isolate;
  min-height:140px;
}

/* Remove perforation line down the middle */
.coupon .cut{ display:none }

/* Keep the notch “holes” */
.coupon::before,.coupon::after{
  content:""; position:absolute; width:18px; height:18px; top:50%;
  transform:translateY(-50%); background: var(--purple-900); border-radius:50%;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.12);
}
.coupon::before{ left:-9px } .coupon::after{ right:-9px }

/* Title + tier text */
.coupon .title{ font-weight:900; font-size:20px; line-height:1.2 }
.coupon .tier{ font-size: 13px; color: var(--white-70); }

/* Emoji next to title */
.coupon .title-row{ display:flex; align-items:center; gap:10px }
.coupon .emoji{ font-size:22px; line-height:1 }

/* Points badge + Redeem button anchored in corners */
.coupon .badge{
  position:absolute; left:16px; bottom:16px; z-index:4;
  padding: 8px 12px; border-radius:999px; font-weight:800;
  background: linear-gradient(90deg,#d48828,#f2b257);
  color:#fff; box-shadow:0 10px 22px rgba(236,180,72,.30);
}
.coupon .btn{
  position:absolute; right:16px; bottom:16px; z-index:4;
}

/* Sparkle layers (on top of content) */
.coupon .fx-stars{
  position:absolute; inset:0; pointer-events:none; z-index:5; opacity:.40;
  background:
    radial-gradient(2px 2px at 12% 22%, rgba(255,255,255,.55), transparent 60%),
    radial-gradient(2px 2px at 82% 28%, rgba(255,255,255,.45), transparent 60%),
    radial-gradient(1.6px 1.6px at 28% 68%, rgba(255,255,255,.45), transparent 60%),
    radial-gradient(1.6px 1.6px at 62% 48%, rgba(255,255,255,.45), transparent 60%),
    radial-gradient(1.6px 1.6px at 90% 80%, rgba(255,255,255,.45), transparent 60%);
  animation: fxTwinkle 4.2s ease-in-out infinite;
}
.coupon .fx-sheen{
  position:absolute; inset:-60% -60% auto auto; pointer-events:none; z-index:5; opacity:.45;
  width: 220%; height: 220%;
  background: linear-gradient(125deg,
    rgba(255,255,255,0) 42%,
    rgba(255,255,255,.55) 50%,
    rgba(255,255,255,0) 58%);
  animation: fxSheen 2.8s linear infinite;
}

/* Make sure text is above background layer */
.coupon .title, .coupon .tier{ position:relative; z-index:4 }

/* Tier looks */
.coupon--small{
  border-color: rgba(205,127,50,.55);
  background:
    radial-gradient(120% 180% at 100% 0%, rgba(205,127,50,.18), rgba(0,0,0,0) 60%),
    rgba(15,15,30,.62);
}
.coupon--small .badge{
  background: linear-gradient(90deg,#b87333,#cd7f32);
  box-shadow: 0 10px 22px rgba(205,127,50,.35);
}

.coupon--medium{
  border-color: rgba(192,192,192,.55);
  background:
    radial-gradient(120% 180% at 100% 0%, rgba(192,192,192,.22), rgba(0,0,0,0) 60%),
    rgba(15,15,30,.64);
}
.coupon--medium .badge{
  background: linear-gradient(90deg,#9ea7ad,#c0c0c0);
  box-shadow: 0 10px 22px rgba(192,192,192,.35);
}

.coupon--large{
  border-color: rgba(255,215,0,.55);
  background:
    radial-gradient(120% 180% at 100% 0%, rgba(255,215,0,.20), rgba(0,0,0,0) 60%),
    rgba(15,15,30,.66);
}
.coupon--large .badge{
  background: linear-gradient(90deg,#d4af37,#ffd700);
  box-shadow: 0 10px 22px rgba(255,215,0,.35);
}

.coupon--special{
  border-color: rgba(229,228,226,.65);
  background:
    radial-gradient(120% 180% at 100% 0%, rgba(229,228,226,.22), rgba(0,0,0,0) 60%),
    rgba(15,15,30,.68);
}
.coupon--special .badge{
  background: linear-gradient(90deg,#cfd2d3,#e5e4e2);
  box-shadow: 0 10px 22px rgba(229,228,226,.40);
}

/* Safari blend tweak */
@supports (-webkit-backdrop-filter: blur(1px)){
  .coupon .fx-stars, .coupon .fx-sheen{ mix-blend-mode: lighten; -webkit-transform:translateZ(0) }
}

/* Animations */
@keyframes fxSheen{
  0%{ transform: translate(0,0) rotate(0deg) }
  100%{ transform: translate(-18%, -18%) rotate(0deg) }
}
@keyframes fxTwinkle{
  0%,100%{ opacity:.38 }
  50%{ opacity:.52 }
}