/* ---- THEME ---- */
:root{
  --purple-900:#2a0f63;
  --purple-700:#6d28d9;
  --purple-500:#a78bfa;
  --white-90:rgba(255,255,255,.92);
  --white-70:rgba(255,255,255,.70);
  --white-18:rgba(255,255,255,.18);
  --white-28:rgba(255,255,255,.28);
}

*{box-sizing:border-box}
html,body,#root{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
  color:#fff;
  background:#0b0329;
}

/* ---- APP BACKGROUND ---- */
.app-bg{
  min-height:100%;
  background:
    radial-gradient(1200px 600px at 85% -10%, #b794f4 0%, rgba(183,148,244,0) 60%),
    radial-gradient(900px 500px at 10% 0%, #7c3aed 0%, rgba(124,58,237,0) 50%),
    linear-gradient(135deg, #2b146b 0%, #4b1fb3 45%, #6d28d9 100%);
  padding:16px 16px 96px;
}

/* ---- GLASS CARD ---- */
.card{
  background:rgba(15,15,30,.35);
  border:1px solid var(--white-18);
  border-radius:18px;
  padding:14px;
  box-shadow:0 12px 28px rgba(0,0,0,.35);
  backdrop-filter: blur(14px) saturate(160%);
}

/* ---- HEADER + MENU ---- */
.app-header{
  position:sticky; top:0; z-index:10;
  margin-bottom:12px; padding:12px 14px;
  border-radius:18px; background:rgba(15,15,30,.45);
  border:1px solid var(--white-18); backdrop-filter:blur(12px) saturate(160%);
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}
.app-title{margin:0;font-size:22px;font-weight:900;letter-spacing:.2px}
.app-sub{margin:2px 0 0;color:var(--white-70);font-size:12px}
.menu-btn{
  border:none; border-radius:12px; padding:10px 14px; font-weight:800; color:#fff;
  background:linear-gradient(90deg,#7c3aed,#a78bfa); box-shadow:0 10px 18px rgba(124,58,237,.35);
}

/* ---- COUPON SPARKLES FIX ---- */
.coupon {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 14px;
  border-radius: 16px;
  border: 1px dashed var(--white-28);
  background:
    radial-gradient(120% 180% at 100% 0%, rgba(167,139,250,.18), rgba(0,0,0,0) 60%),
    rgba(15,15,30,.55);
  box-shadow: 0 10px 24px rgba(0,0,0,.35);
  backdrop-filter: blur(10px) saturate(150%);
  overflow: hidden;
}

.coupon-content {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  align-items: center;
  z-index: 1;
  position: relative;
}

.coupon .fx-stars,
.coupon .fx-sheen {
  z-index: 0;
}

/* sparkle stars animation */
@keyframes fxTwinkle {
  0%,100% { opacity:.18; transform: translateY(0) }
  50%     { opacity:.38; transform: translateY(-2px) }
}

/* sheen sweep */
@keyframes fxSheen {
  0%   { transform: translate(-140%, -140%) rotate(18deg); }
  50%  { transform: translate(10%, 10%) rotate(18deg); }
  100% { transform: translate(140%, 140%) rotate(18deg); }
}

.coupon .fx-stars{
  position:absolute; inset:0; z-index:0; pointer-events:none;
  background:
    radial-gradient(2px 2px at 12% 22%, rgba(255,255,255,.55), transparent 60%),
    radial-gradient(2px 2px at 82% 28%, rgba(255,255,255,.45), transparent 60%),
    radial-gradient(1.6px 1.6px at 28% 68%, rgba(255,255,255,.45), transparent 60%),
    radial-gradient(1.6px 1.6px at 62% 48%, rgba(255,255,255,.45), transparent 60%),
    radial-gradient(1.6px 1.6px at 90% 80%, rgba(255,255,255,.45), transparent 60%);
  animation: fxTwinkle 4.2s ease-in-out infinite;
  mix-blend-mode: screen;
}

.coupon .fx-sheen{
  position:absolute; z-index:0; pointer-events:none;
  width: 220%; height: 220%;
  left:-60%; top:-60%;
  background: linear-gradient(125deg,
    rgba(255,255,255,0) 42%,
    rgba(255,255,255,.55) 50%,
    rgba(255,255,255,0) 58%
  );
  animation: fxSheen 2.8s linear infinite;
  mix-blend-mode: screen;
}

.coupon .cut { z-index: 2; }
.coupon > *:not(.fx-stars):not(.fx-sheen) { position: relative; z-index: 1; }

/* reduce motion */
@media (prefers-reduced-motion: reduce){
  .coupon .fx-stars, .coupon .fx-sheen { animation: none; }
}
